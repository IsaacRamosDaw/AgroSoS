DOCUMENTACIÓN DE CONFIGURACIÓN DE SEGURIDAD (SecurityConfig)
============================================================

Este documento explica en detalle el archivo de configuración `SecurityConfig.java`, el cual es fundamental para establecer las reglas de seguridad y autenticación de la aplicación AgroSOS.

Ubicación: `com.agroSoSProyect.Config.SecurityConfig`

1. Propósito General
--------------------
La clase `SecurityConfig` utiliza el framework Spring Security para gestionar quién puede acceder a qué partes de la aplicación. Su función principal es doble:
   a) Configurar el filtro de seguridad HTTP para los endpoints.
   b) Proveer el mecanismo de encriptación de contraseñas.

2. Componentes Detallados
-------------------------

A) Filtro de Seguridad (SecurityFilterChain)
   -----------------------------------------
   El método `securityFilterChain(HttpSecurity http)` define las reglas del firewall de la aplicación.

   - Desactivación de CSRF:
     `http.csrf(csrf -> csrf.disable())`
     Se ha deshabilitado la protección CSRF (Cross-Site Request Forgery). Esto es común en APIs REST que son consumidas por clientes no basados en navegador (o clientes modernos como React/Vue) donde el estado no se guarda en cookies de sesión del servidor. Facilita el desarrollo y las pruebas desde herramientas como Postman.

   - Reglas de Autorización (authorizeHttpRequests):
     `auth.requestMatchers("/auth/**").permitAll()`
     Define explícitamente que cualquier petición que comience con `/auth/` (como login, registro, etc.) está permitida para CUALQUIER usuario, sin necesidad de estar logueado. Esto es lógico, ya que nadie puede hacer login si el endpoint de login estuviera protegido.

     `.anyRequest().permitAll()`
     *Nota Importante*: Actualmente, la configuración permite el acceso público a TODOS los demás endpoints de la aplicación. En un entorno de producción estricto, esto debería cambiarse para requerir autenticación (`.authenticated()`) para rutas sensibles.

B) Encriptación de Contraseñas (PasswordEncoder)
   ----------------------------------------------
   El método `passwordEncoder()` define el "Bean" (componente gestionado por Spring) que se usará para cifrar las contraseñas.

   - Algoritmo: `BCryptPasswordEncoder`
     Utilizamos BCrypt, que es uno de los algoritmos de hashing más seguros y recomendados para contraseñas.

     ¿Por qué es importante?
     1. Hashing Unidireccional: Cuando un usuario se registra, su contraseña ("secreto123") se transforma en una cadena ininteligible (ej. "$2a$10$EblZqN..."). Es matemáticamente imposible (o extremadamente difícil) revertir este proceso para obtener "secreto123".
     2. Verificación Segura: Cuando el usuario intenta hacer login, el sistema no compara "secreto123" con "secreto123". En su lugar, toma la contraseña ingresada, la procesa con BCrypt y verifica si el hash resultante coincide con el almacenado en la base de datos.
     3. Protección de Datos: Si alguien lograra robar la base de datos, no obtendría las contraseñas reales de los usuarios, protegiendo así sus cuentas.

   - Uso en la Aplicación:
     Este componente se inyecta automáticamente en `AuthController` (o donde sea necesario) gracias a la anotación `@Autowired`, permitiendo usar `passwordEncoder.encode()` para registrar y `passwordEncoder.matches()` para validar login.
